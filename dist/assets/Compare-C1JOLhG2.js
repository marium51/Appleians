import{E as N,D as f,u as g,j as e,B as c,X as i,K as m,J as b,M as C}from"./index-bDYlqfgW.js";import{A as v}from"./arrow-left-C29avXjI.js";const A=()=>{const{compareItems:a,removeFromCompare:x,clearCompare:p}=N(),{addToCart:u,cartItems:h}=f(),o=g(),l=s=>h.some(t=>t.product.id===s),j=s=>{var r;const t=(r=a.find(d=>d.product.id===s))==null?void 0:r.product;t&&(u(t,1),C({title:"Added to cart",description:`${t.name} added to your cart.`}))};if(a.length===0)return e.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No products to compare"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Add some products to compare them."}),e.jsx(c,{onClick:()=>o("/products"),children:"Browse Products"})]});const n=new Set;return a.forEach(s=>{var t;(t=s.product.features)==null||t.forEach(r=>{n.add(r)})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs(c,{variant:"ghost",onClick:()=>o(-1),className:"flex items-center gap-2",children:[e.jsx(v,{size:16}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Compare Products"}),a.length>0&&e.jsx(c,{variant:"outline",size:"sm",onClick:p,children:"Clear All"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-left min-w-[200px]",children:"Product"}),a.map(s=>e.jsxs("th",{className:"p-4 text-center min-w-[250px] relative",children:[e.jsx(c,{variant:"ghost",size:"icon",className:"absolute top-2 right-2",onClick:()=>x(s.product.id),children:e.jsx(i,{size:16})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-32 h-32 mb-2",children:e.jsx("img",{src:s.product.images[0],alt:s.product.name,className:"w-full h-full object-contain"})}),e.jsx("h3",{className:"font-medium",children:s.product.name}),e.jsxs("p",{className:"text-lg font-bold my-2",children:["$",s.product.price]}),e.jsx("div",{className:"flex gap-2 mt-2",children:e.jsx(c,{variant:l(s.product.id)?"secondary":"default",size:"sm",onClick:()=>j(s.product.id),disabled:l(s.product.id),className:"w-full",children:l(s.product.id)?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"mr-1 h-4 w-4"}),"Added"]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-1 h-4 w-4"}),"Add to Cart"]})})})]})]},s.product.id))]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"p-4 font-medium bg-muted/50",children:"Category"}),a.map(s=>e.jsx("td",{className:"p-4 text-center",children:s.product.category},s.product.id))]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-4 font-medium bg-muted/50",children:"Description"}),a.map(s=>e.jsx("td",{className:"p-4 text-center",children:e.jsx("p",{className:"text-sm line-clamp-3",children:s.product.description})},s.product.id))]}),e.jsx("tr",{children:e.jsx("td",{colSpan:a.length+1,className:"p-4 bg-muted/30",children:e.jsx("h3",{className:"font-bold",children:"Features"})})}),Array.from(n).map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-4 font-medium bg-muted/50",children:s}),a.map(r=>{var d;return e.jsx("td",{className:"p-4 text-center",children:(d=r.product.features)!=null&&d.includes(s)?e.jsx(m,{className:"text-green-500 mx-auto"}):e.jsx(i,{className:"text-red-500 mx-auto"})},r.product.id)})]},t))]})]})})]})};export{A as default};
