import{r as u,x as q,h as J,b as Q,j as e,d as G,y as Z,P as w,g as A,z as ee,f as R,m as se,i as ae,k as D,N as re,u as te,D as oe,I as N,B as k,M as b,F as S}from"./index-bDYlqfgW.js";import{L as f}from"./label-DdT_m-Kl.js";import{u as ie}from"./index-U2_68UtF.js";import{C as de}from"./checkbox-B97gkNCA.js";var I="Radio",[ne,_]=G(I),[ce,le]=ne(I),M=u.forwardRef((r,d)=>{const{__scopeRadio:s,name:a,checked:o=!1,required:i,disabled:t,value:m="on",onCheck:p,form:x,...j}=r,[n,v]=u.useState(null),h=A(d,y=>v(y)),c=u.useRef(!1),l=n?x||!!n.closest("form"):!0;return e.jsxs(ce,{scope:s,checked:o,disabled:t,children:[e.jsx(w.button,{type:"button",role:"radio","aria-checked":o,"data-state":L(o),"data-disabled":t?"":void 0,disabled:t,value:m,...j,ref:h,onClick:R(r.onClick,y=>{o||p==null||p(),l&&(c.current=y.isPropagationStopped(),c.current||y.stopPropagation())})}),l&&e.jsx(ue,{control:n,bubbles:!c.current,name:a,value:m,checked:o,required:i,disabled:t,form:x,style:{transform:"translateX(-100%)"}})]})});M.displayName=I;var O="RadioIndicator",$=u.forwardRef((r,d)=>{const{__scopeRadio:s,forceMount:a,...o}=r,i=le(O,s);return e.jsx(se,{present:a||i.checked,children:e.jsx(w.span,{"data-state":L(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:d})})});$.displayName=O;var ue=r=>{const{control:d,checked:s,bubbles:a=!0,...o}=r,i=u.useRef(null),t=ie(s),m=ae(d);return u.useEffect(()=>{const p=i.current,x=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(x,"checked").set;if(t!==s&&n){const v=new Event("click",{bubbles:a});n.call(p,s),p.dispatchEvent(v)}},[t,s,a]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:i,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function L(r){return r?"checked":"unchecked"}var me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],F="RadioGroup",[pe,be]=G(F,[q,_]),T=q(),V=_(),[he,xe]=pe(F),B=u.forwardRef((r,d)=>{const{__scopeRadioGroup:s,name:a,defaultValue:o,value:i,required:t=!1,disabled:m=!1,orientation:p,dir:x,loop:j=!0,onValueChange:n,...v}=r,h=T(s),c=J(x),[l,y]=Q({prop:i,defaultProp:o,onChange:n});return e.jsx(he,{scope:s,name:a,required:t,disabled:m,value:l,onValueChange:y,children:e.jsx(Z,{asChild:!0,...h,orientation:p,dir:c,loop:j,children:e.jsx(w.div,{role:"radiogroup","aria-required":t,"aria-orientation":p,"data-disabled":m?"":void 0,dir:c,...v,ref:d})})})});B.displayName=F;var K="RadioGroupItem",z=u.forwardRef((r,d)=>{const{__scopeRadioGroup:s,disabled:a,...o}=r,i=xe(K,s),t=i.disabled||a,m=T(s),p=V(s),x=u.useRef(null),j=A(d,x),n=i.value===o.value,v=u.useRef(!1);return u.useEffect(()=>{const h=l=>{me.includes(l.key)&&(v.current=!0)},c=()=>v.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",c),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",c)}},[]),e.jsx(ee,{asChild:!0,...m,focusable:!t,active:n,children:e.jsx(M,{disabled:t,required:i.required,checked:n,...p,...o,name:i.name,ref:j,onCheck:()=>i.onValueChange(o.value),onKeyDown:R(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:R(o.onFocus,()=>{var h;v.current&&((h=x.current)==null||h.click())})})})});z.displayName=K;var fe="RadioGroupIndicator",U=u.forwardRef((r,d)=>{const{__scopeRadioGroup:s,...a}=r,o=V(s);return e.jsx($,{...o,...a,ref:d})});U.displayName=fe;var H=B,Y=z,ve=U;const W=u.forwardRef(({className:r,...d},s)=>e.jsx(H,{className:D("grid gap-2",r),...d,ref:s}));W.displayName=H.displayName;const C=u.forwardRef(({className:r,...d},s)=>e.jsx(Y,{ref:s,className:D("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...d,children:e.jsx(ve,{className:"flex items-center justify-center",children:e.jsx(re,{className:"h-2.5 w-2.5 fill-current text-current"})})}));C.displayName=Y.displayName;const Ce=()=>{const r=te(),{cartItems:d,clearCart:s}=oe(),[a,o]=u.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",country:"",paymentMethod:"credit-card",saveInfo:!1}),[i,t]=u.useState(!1),m=d.reduce((c,l)=>c+l.product.price*l.quantity,0),p=m>100?0:10,x=m*.05,j=m+p+x,n=c=>{const{name:l,value:y,type:P,checked:g}=c.target;o(X=>({...X,[l]:P==="checkbox"?g:y}))},v=c=>{o(l=>({...l,paymentMethod:c}))},h=c=>{if(c.preventDefault(),d.length===0){b({title:"Cart is empty",description:"Add some products to your cart before checking out.",variant:"destructive"}),r("/products");return}if(["firstName","lastName","email","phone","address","city","postalCode","country"].filter(g=>!a[g]).length>0){b({title:"Missing Information",description:"Please fill in all required fields to continue.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){b({title:"Invalid Email",description:"Please enter a valid email address.",variant:"destructive"});return}t(!0),setTimeout(()=>{const g=Math.floor(1e7+Math.random()*9e7);s(),t(!1),b({title:"Order Placed Successfully",description:`Your order #${g} has been placed.`}),r(`/order-tracking/${g}`)},1500)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:h,className:"space-y-8",children:[e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"firstName",children:"First Name *"}),e.jsx(N,{id:"firstName",name:"firstName",value:a.firstName,onChange:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(N,{id:"lastName",name:"lastName",value:a.lastName,onChange:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"email",children:"Email *"}),e.jsx(N,{id:"email",name:"email",type:"email",value:a.email,onChange:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"phone",children:"Phone *"}),e.jsx(N,{id:"phone",name:"phone",value:a.phone,onChange:n,required:!0})]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Shipping Address"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"address",children:"Address *"}),e.jsx(N,{id:"address",name:"address",value:a.address,onChange:n,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"city",children:"City *"}),e.jsx(N,{id:"city",name:"city",value:a.city,onChange:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"postalCode",children:"Postal Code *"}),e.jsx(N,{id:"postalCode",name:"postalCode",value:a.postalCode,onChange:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"country",children:"Country *"}),e.jsx(N,{id:"country",name:"country",value:a.country,onChange:n,required:!0})]})]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Method"}),e.jsxs(W,{value:a.paymentMethod,onValueChange:v,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(C,{value:"credit-card",id:"credit-card"}),e.jsx(f,{htmlFor:"credit-card",className:"flex-1 cursor-pointer",children:"Credit / Debit Card"})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(C,{value:"paypal",id:"paypal"}),e.jsx(f,{htmlFor:"paypal",className:"flex-1 cursor-pointer",children:"PayPal"})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md",children:[e.jsx(C,{value:"cash",id:"cash"}),e.jsx(f,{htmlFor:"cash",className:"flex-1 cursor-pointer",children:"Cash on Delivery"})]})]}),e.jsxs("div",{className:"mt-6 flex items-center space-x-2",children:[e.jsx(de,{id:"saveInfo",name:"saveInfo",checked:a.saveInfo,onCheckedChange:c=>o(l=>({...l,saveInfo:c===!0}))}),e.jsx(f,{htmlFor:"saveInfo",className:"text-sm cursor-pointer",children:"Save this information for next time"})]})]}),e.jsx("div",{className:"lg:hidden",children:e.jsx(E,{cartItems:d,subtotal:m,shippingCost:p,tax:x,total:j,isSubmitting:i})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>r("/cart"),children:"Back to Cart"}),e.jsx(k,{type:"submit",disabled:i,children:i?"Processing...":"Place Order"})]})]})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(E,{cartItems:d,subtotal:m,shippingCost:p,tax:x,total:j,isSubmitting:i})})]})]})},E=({cartItems:r,subtotal:d,shippingCost:s,tax:a,total:o,isSubmitting:i})=>e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm sticky top-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),e.jsx("div",{className:"divide-y",children:r.map(t=>e.jsxs("div",{className:"py-3 flex items-center",children:[e.jsxs("div",{className:"h-12 w-12 bg-white rounded-md overflow-hidden flex-shrink-0 relative",children:[e.jsx("img",{src:t.product.images[0],alt:t.product.name,className:"h-full w-full object-contain"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center",children:t.quantity})]}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:t.product.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",t.product.price.toFixed(2)]})]}),e.jsxs("div",{className:"text-sm font-medium",children:["$",(t.product.price*t.quantity).toFixed(2)]})]},t.product.id))}),e.jsx(S,{className:"my-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{children:["$",d.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsx("span",{children:s===0?e.jsx("span",{className:"text-green-600",children:"Free"}):`$${s.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax (5%)"}),e.jsxs("span",{children:["$",a.toFixed(2)]})]}),e.jsx(S,{className:"my-3"}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",o.toFixed(2)]})]})]}),e.jsx(k,{type:"submit",form:"checkout-form",className:"w-full mt-6",size:"lg",disabled:i,children:i?"Processing...":"Place Order"})]});export{Ce as default};
